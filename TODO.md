# Ideas and To-Do

- [x] Refactor Solver to output vector of heads/flows instead of in-place assignment (allow parallization of solve loop)
- [x] Parallelize sequential solves with Rayon if possible (no tanks)
- [x] Refactor network build from inp file, split logic into separate methods
- [x] Refactor network, link and node setup, split into separate files and compute coefficients using traits
- [x] Implement Darcy Weisbach
- [x] Input file support for PATTERN, TIMES, OPTIONS
- [x] Support for PATTERNS in solve loop 
- [x] Implement unit conversion
- [x] Implement pumps
- [x] Single point curves
- [x] Three point curves
- [x] Custom curves
- [x] Use serde for serializing to/from json and msgpack files
- [x] Implement FCV, TCV, FCV, PBV
- [ ] Implement GPV, FCV with Curve
- [ ] Implement PRV and PSV valves
- [ ] Unit conversion when serializing using Serde
- [ ] Setup unit and integration testing
- [ ] Get rid of all the Panics and Unwraps, use Result instead
- [ ] Fixed power pumps
- [ ] Unit conversion for curves
- [ ] Coeff stability checks (pipe, valve, pump) (RQTol)
- [ ] Implement tank logic
- [ ] Try to get the solver working for f32 in addition to f64 (SIMD speedup?)
- [ ] Setup automated benchmarks
- [ ] Create EPANET2_3 API compatibility layer
